{"is_source_file": true, "format": "Python", "description": "This file defines security-related dependency functions for a FastAPI application, including functions to retrieve the current user/principal and enforce role-based access control, along with relevant type annotations and imports.", "external_files": ["app.core.security.oidc", "app.core.security.roles", "app.schemas.security"], "external_methods": ["get_current_principal"], "published": ["get_current_user", "require_roles", "CurrentUser"], "classes": [], "methods": [{"name": "get_current_user", "description": "Returns the current authenticated principal, acting as an alias for get_current_principal suitable for routers."}, {"name": "require_roles", "description": "Generates a FastAPI dependency callable that enforces role-based access control, allowing access if the principal has any of the required roles."}], "calls": ["Depends(get_current_principal)", "Depends(get_current_principal)", "HTTPException", "status.HTTP_403_FORBIDDEN"], "search-terms": ["get_current_user", "require_roles", "FastAPI dependency", "role-based access", "Principal", "Depends", "HTTPException"], "state": 2, "file_id": 45, "knowledge_revision": 148, "git_revision": "749667ff558d78ec1efbd0cd6de8e8a3140a3aa3", "ctags": [], "hash": "b3228ee321ebcb6b9532f146718038fa", "format-version": 4, "code-base-name": "CoreAPI&Services", "filename": "CoreAPI&Services/app/api/deps.py", "revision_history": [{"148": "749667ff558d78ec1efbd0cd6de8e8a3140a3aa3"}]}