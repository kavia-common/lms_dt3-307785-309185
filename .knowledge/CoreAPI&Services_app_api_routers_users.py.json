{"is_source_file": true, "format": "Python", "description": "This is a FastAPI router module managing user-related API endpoints, including listing, retrieving, creating, updating, and deleting users with role-based access control.", "external_files": ["app.api.deps", "app.api.security_policies", "app.core.db", "app.schemas.security", "app.schemas.users", "app.services.users"], "external_methods": ["require_roles", "get_db", "list_users", "get_user", "create_user", "update_user", "delete_user"], "published": ["list_users", "get_user", "create_user", "update_user", "delete_user"], "classes": [], "methods": [{"name": "get_users_service", "description": "Provides a UsersService instance, injecting the database dependency, with override support for testing."}, {"name": "list_users", "description": "Handles GET requests to list users with pagination; requires read roles."}, {"name": "get_user", "description": "Handles GET requests to retrieve a user by ID; requires read roles."}, {"name": "create_user", "description": "Handles POST requests to create a new user; requires write roles."}, {"name": "update_user", "description": "Handles PUT requests to update an existing user; requires write roles."}, {"name": "delete_user", "description": "Handles DELETE requests to soft-delete a user; requires admin role."}], "calls": ["require_roles", "get_db", "UsersService.list_users", "UsersService.get_user", "UsersService.create_user", "UsersService.update_user", "UsersService.delete_user"], "search-terms": ["FastAPI users router", "role-based authorization", "MongoDB async service", "user management endpoints", "user CRUD FastAPI", "users API router"], "state": 2, "file_id": 33, "knowledge_revision": 138, "git_revision": "749667ff558d78ec1efbd0cd6de8e8a3140a3aa3", "revision_history": [{"89": "f32db9f7648c3bf6e6253d6e6d769aa42b98ef52"}, {"103": "19710407e292302c797f1a8602379f1eacc3005b"}, {"122": "592d003a5aff3bc65389f329ece3719927f51df7"}, {"138": "749667ff558d78ec1efbd0cd6de8e8a3140a3aa3"}], "ctags": [], "hash": "19e0df384587166d49a30ec3f4883c0a", "format-version": 4, "code-base-name": "CoreAPI&Services", "filename": "CoreAPI&Services/app/api/routers/users.py"}