{"is_source_file": true, "format": "Python", "description": "This file provides utility functions for integrating MongoDB with a FastAPI application, including retrieving the database handle, pinging MongoDB, and registering startup/shutdown events for the MongoDB client.", "external_files": ["app.core.config.Settings"], "external_methods": ["Settings.mongodb_uri", "Settings.mongodb_dbname", "Settings.mongodb_tls"], "published": ["get_db", "mongo_ping", "register_mongo_lifecycle"], "classes": [], "methods": [{"name": "_is_enabled", "description": "Checks if MongoDB is configured based on the presence of the URI in settings."}, {"name": "get_db", "description": "Retrieves the MongoDB database handle from the FastAPI application's state."}, {"name": "mongo_ping", "description": "Pings the MongoDB server to verify connectivity."}, {"name": "register_mongo_lifecycle", "description": "Registers startup and shutdown hooks in FastAPI to manage MongoDB client lifecycle."}], "calls": ["get_db(app)", "db.command({\"ping\": 1})", "AsyncIOMotorClient(settings.mongodb_uri, tls=settings.mongodb_tls)", "client.get_database(settings.mongodb_dbname)", "client.close()"], "search-terms": ["MongoDB", "FastAPI", "motor_asyncio", "MongoDB client lifecycle", "register_mongo_lifecycle", "database connection", "MongoDB ping"], "state": 2, "file_id": 25, "knowledge_revision": 67, "git_revision": "327028bb0b258cf3c5c3f2aa75f441b582682632", "ctags": [], "hash": "dea838c271b121a6aa73d0b48b98843e", "format-version": 4, "code-base-name": "CoreAPI&Services", "filename": "CoreAPI&Services/app/core/db.py", "revision_history": [{"67": "327028bb0b258cf3c5c3f2aa75f441b582682632"}]}