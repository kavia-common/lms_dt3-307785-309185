{"is_source_file": true, "format": "Python", "description": "This file provides security-related functionalities for OpenID Connect (OIDC) and JWT token verification within a FastAPI application. It manages settings retrieval, role parsing, principal extraction, and token verification, supporting stub-based authentication for development/testing environments.", "external_files": ["app.core.config", "app.core.security.jwt", "app.core.security.roles", "app.schemas.security"], "external_methods": ["get_settings", "verify_access_token", "from_str"], "published": ["get_current_principal", "get_oidc_settings"], "classes": [{"name": "OIDCSettings", "description": "A dataclass representing OpenID Connect configuration details necessary for JWT signature verification."}], "methods": [{"name": "_settings_to_oidc", "description": "Converts application Settings into an OIDCSettings dataclass."}, {"name": "_parse_roles_csv", "description": "Parses a CSV string into a list of Role objects."}, {"name": "_extract_bearer_token", "description": "Extracts and returns the bearer token from the HTTP authorization header."}, {"name": "get_current_principal", "description": "Retrieves the current request's principal, either stub data or verified JWT token."}, {"name": "get_oidc_settings", "description": "Provides OIDC configuration settings via dependency injection."}], "calls": ["get_settings", "verify_access_token", "from_str"], "search-terms": ["OIDC", "JWT verification", "Principal extraction", "FastAPI security", "OIDCSettings"], "state": 2, "file_id": 22, "knowledge_revision": 135, "git_revision": "749667ff558d78ec1efbd0cd6de8e8a3140a3aa3", "revision_history": [{"59": "a50d2abeb189157a632144b275fbaad11de74f70"}, {"135": "749667ff558d78ec1efbd0cd6de8e8a3140a3aa3"}], "ctags": [], "hash": "00133a4359be55c6b91d01f396092969", "format-version": 4, "code-base-name": "CoreAPI&Services", "filename": "CoreAPI&Services/app/core/security/oidc.py"}