{"is_source_file": true, "format": "Python", "description": "This file defines an 'AssessmentsService' class providing various methods for managing assessment data in a MongoDB-backed application, including creating, retrieving, listing, updating, and deleting assessments.", "external_files": ["app.core.mongo_utils", "app.schemas.assessments"], "external_methods": ["not_deleted_filter", "serialize_mongo_doc", "soft_delete_update", "to_object_id"], "published": ["AssessmentsService"], "classes": [{"name": "AssessmentsService", "description": "A service class handling assessment operations backed by MongoDB."}], "methods": [{"name": "__init__", "description": "Initializes the service with a MongoDB database connection."}, {"name": "_ensure_indexes", "description": "Ensures necessary MongoDB indexes are created for performance."}, {"name": "_doc_to_read", "description": "Converts a MongoDB document to an AssessmentRead schema."}, {"name": "create_assessment", "description": "Creates a new assessment document in the database."}, {"name": "get_assessment", "description": "Retrieves an assessment by its ID, raising 404 if not found."}, {"name": "list_assessments", "description": "Lists assessments with pagination support."}, {"name": "update_assessment", "description": "Updates an existing assessment by ID with provided data."}, {"name": "delete_assessment", "description": "Soft deletes an assessment by setting its 'deleted_at' timestamp."}], "calls": ["self._db[self.collection_name].create_index", "self._db[self.collection_name].find_one", "self._db[self.collection_name].insert_one", "self._db[self.collection_name].update_one", "coll.count_documents", "coll.find", "coll.create_index", "coll.update_one"], "search-terms": ["AssessmentsService", "assessment CRUD", "MongoDB assessment management", "assessment indexes", "assessment pagination", "soft delete assessment"], "state": 2, "file_id": 32, "knowledge_revision": 101, "git_revision": "19710407e292302c797f1a8602379f1eacc3005b", "revision_history": [{"88": "f32db9f7648c3bf6e6253d6e6d769aa42b98ef52"}, {"101": "19710407e292302c797f1a8602379f1eacc3005b"}], "ctags": [], "hash": "20dd19da0c744f6c7a11c14374e03b8d", "format-version": 4, "code-base-name": "CoreAPI&Services", "filename": "CoreAPI&Services/app/services/assessments.py"}