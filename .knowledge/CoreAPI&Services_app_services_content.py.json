{"is_source_file": true, "format": "Python", "description": "This Python source file defines a ContentService class that manages content items stored in a MongoDB database. The class provides methods to create, retrieve, list, update, and soft-delete content, handling indexing, validation, and conversion between database documents and application schemas.", "external_files": ["app.core.mongo_utils", "app.schemas.content"], "external_methods": ["not_deleted_filter", "serialize_mongo_doc", "soft_delete_update", "to_object_id", "ContentCreate.model_validate"], "published": ["ContentService"], "classes": [{"name": "ContentService", "description": "A service class managing content data stored in MongoDB."}], "methods": [{"name": "_ensure_indexes", "description": "Creates indexes on the content collection if they haven't been created yet."}, {"name": "_doc_to_read", "description": "Converts a MongoDB document into a ContentRead schema object."}, {"name": "create_content", "description": "Creates a new content item in the database with the provided payload."}, {"name": "get_content", "description": "Retrieves a content item by its ID, raising HTTPException if not found."}, {"name": "list_content", "description": "Lists content items with pagination support."}, {"name": "update_content", "description": "Updates a content item with new data; returns the updated item."}, {"name": "delete_content", "description": "Performs a soft delete of a content item."}], "calls": ["self._db[self.collection_name].create_index", "self._db[self.collection_name].insert_one", "self._db[self.collection_name].find_one", "self._db[self.collection_name].count_documents", "self._db[self.collection_name].find", "coll.update_one", "coll.find_one", "res = await coll.update_one", "res = await coll.update_one"], "search-terms": ["ContentService", "MongoDB", "Content management", "soft delete", "index creation", "async content CRUD", "pagination content", "mongo utils", "ContentRead model"], "state": 2, "file_id": 31, "knowledge_revision": 100, "git_revision": "19710407e292302c797f1a8602379f1eacc3005b", "revision_history": [{"87": "f32db9f7648c3bf6e6253d6e6d769aa42b98ef52"}, {"100": "19710407e292302c797f1a8602379f1eacc3005b"}], "ctags": [], "hash": "3044a21a480bc928caa63c397dde337e", "format-version": 4, "code-base-name": "CoreAPI&Services", "filename": "CoreAPI&Services/app/services/content.py"}