{"is_source_file": true, "format": "Python", "description": "This file contains unit test functions for testing content-related API endpoints in a FastAPI application. It mocks a content service to simulate interactions like listing content, creating content, and handling not found errors, using TestClient to perform HTTP requests against the FastAPI app.", "external_files": ["app.main", "fastapi.testclient", "fastapi", "datetime", "app.api.routers.content"], "external_methods": ["app.main.create_app", "fastapi.testclient.TestClient", "app.api.routers.content.get_content_service", "datetime.datetime.now", "datetime.timezone.utc"], "published": ["test_content_list_ok_with_pagination", "test_content_create_returns_201", "test_content_get_not_found"], "classes": [{"name": "_FakeContentService", "description": "A mock service class simulating content data operations such as listing and creating content for testing purposes.", "methods": [{"name": "list_content", "description": "Simulates fetching a list of content items with pagination."}, {"name": "create_content", "description": "Simulates creating new content and returning its details."}, {"name": "get_content", "description": "Simulates fetching a specific content item, raising 404 if not found."}]}], "methods": [{"name": "test_content_list_ok_with_pagination", "description": "Tests the content list API endpoint with pagination parameters, verifying the response includes expected content items."}, {"name": "test_content_create_returns_201", "description": "Tests creating new content via the API and confirms successful creation responds with status 201 and correct payload."}, {"name": "test_content_get_not_found", "description": "Tests the API response when fetching a non-existent content item, expecting a 404 error."}], "calls": ["app.main.create_app", "client.get", "client.post", "app.api.routers.content.get_content_service", "monkeypatch.setattr", "datetime.now", "datetime.isoformat"], "search-terms": ["test_content_list_ok_with_pagination", "test_content_create_returns_201", "test_content_get_not_found", "FakeContentService", "FastAPI test", "Content API test"], "state": 2, "file_id": 37, "knowledge_revision": 109, "git_revision": "19710407e292302c797f1a8602379f1eacc3005b", "revision_history": [{"93": "f32db9f7648c3bf6e6253d6e6d769aa42b98ef52"}, {"109": "19710407e292302c797f1a8602379f1eacc3005b"}], "ctags": [], "hash": "cdd8e38e35f95eb4180ba2de1391a4de", "format-version": 4, "code-base-name": "CoreAPI&Services", "filename": "CoreAPI&Services/app/tests/test_content_router.py"}