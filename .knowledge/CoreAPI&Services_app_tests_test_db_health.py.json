{"is_source_file": true, "format": "Python", "description": "This file contains unit tests for database health check endpoints in a FastAPI application, particularly mocking MongoDB connectivity responses to verify both successful and failed health states.", "external_files": ["app.main", "fastapi.testclient.TestClient"], "external_methods": ["create_app", "monkeypatch.setenv", "monkeypatch.setattr", "TestClient", "client.get", "resp.json()"], "published": [], "classes": [], "methods": [{"name": "test_db_health_ok", "description": "Tests the healthy database response by mocking mongo_ping to succeed."}, {"name": "test_db_health_failed", "description": "Tests the failed database response by mocking mongo_ping to raise an error."}], "calls": ["app.main.create_app", "monkeypatch.setenv", "monkeypatch.setattr", "TestClient", "client.get", "resp.json()"], "search-terms": ["test_db_health", "mongo_ping", "fastapi", "health", "database", "monkeypatch", "unit test"], "state": 2, "file_id": 26, "knowledge_revision": 68, "git_revision": "327028bb0b258cf3c5c3f2aa75f441b582682632", "ctags": [], "hash": "359d42e7a69e593c8cdbef29702feba3", "format-version": 4, "code-base-name": "CoreAPI&Services", "filename": "CoreAPI&Services/app/tests/test_db_health.py", "revision_history": [{"68": "327028bb0b258cf3c5c3f2aa75f441b582682632"}]}