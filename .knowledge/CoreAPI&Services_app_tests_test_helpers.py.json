{"is_source_file": true, "format": "Python", "description": "This file contains pytest helper functions to facilitate FastAPI testing, specifically for mocking or overriding database dependencies during tests. It provides utilities to handle various types of database objects or factories, ensuring proper cleanup after tests.", "external_files": ["inspect", "typing"], "external_methods": ["inspect.isawaitable", "getattr", "callable"], "published": ["override_db"], "classes": [], "methods": [{"name": "_maybe_await", "description": "Await a value if it is awaitable, otherwise return as-is."}, {"name": "_get_close_callable", "description": "Retrieve a cleanup method from a database object if available."}, {"name": "_resolve_db", "description": "Resolve the database object from an instance or factory."}, {"name": "override_db", "description": "Create a FastAPI dependency override for a database dependency that can be used in tests."}], "calls": ["inspect.isawaitable", "getattr", "callable", "_resolve_db", "_get_close_callable"], "search-terms": ["pytest helpers", "FastAPI test", "dependency override", "database cleanup", "async generator", "test fixture"], "state": 2, "file_id": 4, "knowledge_revision": 18, "git_revision": "917874cb78c0dc5e5e195d5c4b3db216114a687f", "ctags": [], "hash": "e9a4c08778e002277f56d105c2764ced", "format-version": 4, "code-base-name": "CoreAPI&Services", "filename": "CoreAPI&Services/app/tests/test_helpers.py", "revision_history": [{"18": "917874cb78c0dc5e5e195d5c4b3db216114a687f"}]}