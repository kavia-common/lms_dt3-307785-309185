{"is_source_file": true, "format": "Python", "description": "This file contains test cases for the users API endpoints of a FastAPI application, using the TestClient for testing. It defines multiple test functions that mock user service dependencies and verify API responses for listing users, creating users, and handling user not found errors.", "external_files": ["app/api/routers/users", "app/core/config", "app.main"], "external_methods": ["get_users_service", "clear_settings_cache", "create_app"], "published": [], "classes": [{"name": "_FakeUsersService", "description": "A mock class simulating the user service with methods for listing, creating, and getting users, used to override dependencies during testing."}], "methods": [{"name": "test_users_list_ok_with_pagination", "description": "Tests retrieving a paginated list of users via the API, verifying response structure and content."}, {"name": "test_users_create_returns_201", "description": "Tests user creation API, verifying that a user is created and returned with correct data."}, {"name": "test_users_get_not_found", "description": "Tests retrieving a non-existent user, expecting a 404 error from the API."}], "calls": ["create_app()", "clear_settings_cache()", "TestClient(app).get()", "TestClient(app).post()"], "search-terms": ["test_users_list_ok_with_pagination", "test_users_create_returns_201", "test_users_get_not_found", "TestClient", "fastapi.testclient", "get_users_service", "clear_settings_cache", "create_app", "app.dependency_overrides"], "state": 2, "file_id": 36, "knowledge_revision": 153, "git_revision": "a913ada82573d635dee7e06ab499b12fc525201f", "revision_history": [{"92": "f32db9f7648c3bf6e6253d6e6d769aa42b98ef52"}, {"108": "19710407e292302c797f1a8602379f1eacc3005b"}, {"127": "2d7dee753c35a3dfcfb294158664118376c714db"}, {"153": "a913ada82573d635dee7e06ab499b12fc525201f"}], "ctags": [], "hash": "be50da2b73790e1d5509eec98cb56072", "format-version": 4, "code-base-name": "CoreAPI&Services", "filename": "CoreAPI&Services/app/tests/test_users_router.py"}